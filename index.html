<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUMINDEX</title>
    <style>
        :root {
            --bg-primary: #0a0c10;
            --bg-secondary: rgba(22, 27, 34, 0.8);
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --border-color: rgba(48, 54, 61, 0.6);
            --hover-bg: rgba(31, 41, 55, 0.8);
            --positive: #3fb950;
            --negative: #f85149;
            --accent: #58a6ff;
            --gradient-start: #58a6ff;
            --gradient-end: #3fb950;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden; /* æ·»åŠ è¿™ä¸€è¡Œï¼Œé˜²æ­¢bodyå‡ºç°æ»šåŠ¨æ¡ */
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: auto;
            min-height: calc(100vh - 40px);
            position: relative;
        }



        /* å¢å¼ºæ ‡é¢˜è¾‰å…‰æ•ˆæœ - ç§»é™¤é—ªçƒåŠ¨ç”»ï¼Œä¿ç•™é™æ€å‘å…‰æ•ˆæœ */
        .container h1 {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 0 10px rgba(88, 166, 255, 0.4),
                         0 0 20px rgba(88, 166, 255, 0.3),
                         0 0 30px rgba(88, 166, 255, 0.2);
            /* ç§»é™¤åŠ¨ç”»æ•ˆæœï¼Œä¿ç•™é™æ€å‘å…‰ */
        }

        /* æ–°å¢è¡¨æ ¼å®¹å™¨æ ·å¼ */
        .table-container {
            width: 100%;
            max-width: 1320px;
            height: auto;
            max-height: calc(100vh - 200px); /* è°ƒæ•´åº•éƒ¨æ ç©ºé—´ */
            overflow: hidden;
            margin-bottom: 30px; /* ç¼©å°åº•éƒ¨æ é—´è· */
            border-radius: 16px;
            background-color: var(--bg-primary);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .token-table {
            width: 1320px;
            min-width: 1320px;
            table-layout: fixed;
            --row-height: 25px; /* è°ƒæ•´åçš„æ ‡é¢˜è¡Œé«˜åº¦ */
            margin: 0;
            border-collapse: separate;
            border-spacing: 0;
            flex: 1;
            overflow: auto;
        }

        .token-table tbody tr {
            height: var(--row-height);
            transition: all 0.2s ease;
        }

        .token-table tbody tr:hover {
            background-color: var(--hover-bg);
        }

        .token-table th {
            height: var(--row-height);
            padding: 0.3rem 0.8rem; /* ä¼˜åŒ–åçš„ç´§å‡‘å†…è¾¹è· */
            position: sticky;
            top: 0;
            z-index: 10;
            background-color: var(--bg-primary);
        }

        .token-table td {
            height: var(--row-height);
            padding: 0.5rem 1rem; /* å‡å°‘å†…è¾¹è· */
        }

        margin: 0; /* ç§»é™¤å¯èƒ½çš„é»˜è®¤å¤–è¾¹è· */
    }

    .token-table td {
        box-sizing: border-box;
        vertical-align: middle;
        line-height: 1.4;
        height: var(--row-height);
        min-height: var(--row-height);
        max-height: var(--row-height);
        padding: 8px;
    }

    /* ç§»é™¤æ‰€æœ‰å­å…ƒç´ å¯¹é«˜åº¦çš„å¹²æ‰° */
    .token-info, .price-change-group {
        height: 100%;
        display: flex;
        align-items: center;
    }

    /* æ»šåŠ¨æ¡æ ·å¼å®šåˆ¶ */
    .table-container::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    .table-container::-webkit-scrollbar-track,
    .table-container::-webkit-scrollbar-thumb {
        border-radius: 4px;
    }

    .table-container::-webkit-scrollbar-track {
        background: var(--bg-primary);
    }

    .table-container::-webkit-scrollbar-thumb {
        background: var(--border-color);
        transition: background-color 0.3s ease;
    }

    .table-container::-webkit-scrollbar-thumb:hover {
        background: var(--text-secondary);
    }

    /* å›ºå®šè¡¨å¤´ */
    /* æ­¤å¤„æ ·å¼å·²ç§»è‡³åº•éƒ¨ï¼Œé¿å…æ ·å¼å†²çª */

    .header-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
}

.header-logo {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 20px rgba(88, 166, 255, 0.2);
}

h1 {
        color: transparent;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        -webkit-background-clip: text;
        background-clip: text;
        text-align: center;
        font-weight: 700;
        margin-bottom: 2rem;
        font-size: 2.5rem;
        font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        letter-spacing: -0.5px;
        text-shadow: 0 0 10px rgba(88, 166, 255, 0.4),
                     0 0 20px rgba(88, 166, 255, 0.3),
                     0 0 30px rgba(88, 166, 255, 0.2);
        /* å¢å¼ºé™æ€å‘å…‰æ•ˆæœï¼Œç§»é™¤é—ªçƒåŠ¨ç”» */
    }

    .token-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background-color: transparent;
        border-radius: 16px;
        overflow: hidden;
        table-layout: fixed;
    }

    .token-table th, .token-table td {
        padding: 0.3rem 0.8rem; /* ä¼˜åŒ–åçš„ç´§å‡‘å†…è¾¹è· */
        border-bottom: 1px solid var(--border-color);
        font-size: 0.875rem;
        overflow: hidden;
        text-overflow: ellipsis; /* æº¢å‡ºæ—¶æ˜¾ç¤ºçœç•¥å· */
        white-space: nowrap; /* é˜²æ­¢æ–‡æœ¬æ¢è¡Œ */
    }

    /* æ¢å¤ Token åç§°å’Œä»£å·çš„åŸå§‹å¤§å° */
    .token-name {
        font-weight: 500;
        font-size: 1rem; /* åŸå§‹åç§°å­—å· */
    }
    
    .token-symbol {
        color: var(--text-secondary);
        font-size: 0.875rem; /* ä¿æŒåŸæœ‰å°å·å­—ä½“ */
    }

    /* åˆ—å®½åº¦è®¾ç½® */
    .token-table th.compact-column,
    .token-table td.compact-column {
        padding: 0.5rem 0.5rem 2rem 1rem; /* å‡å°ä¸Šä¸‹å†…è¾¹è·ï¼Œå¢åŠ å·¦å†…è¾¹è·ï¼Œä¿æŒå³ä¾§ç©ºé—´ */
        text-align: left; /* æ”¹ä¸ºå·¦å¯¹é½ */
        min-width: 80px;
    }

    /* ä»·æ ¼å˜åŒ–å’Œäº¤æ˜“é‡åˆ—å®½åº¦ */
    .token-table th[data-sort^="priceChange."],
    .token-table th[data-sort="volume"],
    .token-table th[data-sort="liquidity"] {
        min-width: 80px;
        width: 80px;
        max-width: 80px;
    }
    
    .token-table th.chart-column {
        text-align: center;
    }
    .token-table th.chart-column {
        padding: 1rem 0.5rem;
        width: 100px;
    }

    .token-table th {
        background-color: rgba(22, 27, 34, 0.9);
        color: var(--text-primary);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        min-width: 100px;
        white-space: nowrap;
        position: sticky;
        top: 0;
        z-index: 10;
        padding-right: 20px;
        border-bottom: 2px solid var(--border-color);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }

    .token-table th:hover {
        background-color: var(--hover-bg);
        color: var(--accent);
    }

    .token-table th > span:not(.sort-indicator) {
        display: block;
        text-align: center;
    }

    .token-table th .sort-indicator {
        display: inline-block;
        position: relative;
        margin-left: 4px;
        vertical-align: middle;
    }

    .token-table th:hover {
        background-color: var(--hover-bg);
    }

    .token-info {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .token-icon {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        object-fit: cover;
    }

    .token-info {
        display: flex;
        align-items: center;
        gap: 14px;
    }
    .positive { color: var(--positive); }
    .negative { color: var(--negative); }
    
    /* äº¤æ˜“é‡å®¹å™¨æ ·å¼ */
    .volume-container {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        width: 100%;
    }
    
    .volume-value {
        text-align: right;
        min-width: 50px;
        margin-right: 8px;
    }
    
    /* äº¤æ˜“é‡æŒ‡ç¤ºç¬¦å·æ ·å¼ */
    .volume-indicator-1, .volume-indicator-2, .volume-indicator-3, .volume-indicator-4, .volume-indicator-5 {
        background-image: linear-gradient(90deg, #3fb950 0%, #3fb950 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-size: 0.9rem;
        transform: scaleX(0.8);
        display: inline-block;
        text-align: left;
        width: 60px;
    }
    
    .volume-indicator-2 {
        background-image: linear-gradient(90deg, #3fb950 0%, #4ac866 100%);
    }
    
    .volume-indicator-3 {
        background-image: linear-gradient(90deg, #3fb950 0%, #56d77c 100%);
    }
    
    .volume-indicator-4 {
        background-image: linear-gradient(90deg, #3fb950 0%, #62e692 100%);
    }
    
    .volume-indicator-5 {
        background-image: linear-gradient(90deg, #3fb950 0%, #6ef5a8 100%);
    }

    .loading {
        text-align: center;
        padding: 2rem;
        color: var(--text-secondary);
    }

    .price-change-group {
        display: flex;
        gap: 8px;
        font-size: 0.875rem;
    }

    .price-change-item {
        padding: 4px 8px;
        border-radius: 4px;
        background-color: var(--bg-primary);
    }

    select {
        background-color: var(--bg-primary);
        color: var(--text-primary);
        border: 1px solid var(--border-color);
        padding: 4px 8px;
        border-radius: 4px;
        cursor: pointer;
    }

    select:hover {
        background-color: var(--hover-bg);
    }

    .token-name {
        font-weight: 500;
    }

    .token-symbol {
        color: var(--text-secondary);
        font-size: 0.875rem;
    }

    .last-update {
        position: fixed;
        top: 1rem;
        right: 1rem;
        color: var(--text-secondary);
        font-size: 0.875rem;
        background-color: var(--bg-primary);
        padding: 0.5rem 1rem;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .update-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: var(--positive);
        animation: pulse 1.5s infinite ease-in-out;
    }
    
    @keyframes pulse {
        0% { 
            opacity: 0.4;
            filter: drop-shadow(0 0 8px rgba(88, 166, 255, 0.6))
                    drop-shadow(0 0 20px rgba(88, 166, 255, 0.4));
        }
        50% {
            opacity: 1;
            filter: drop-shadow(0 0 12px rgba(88, 166, 255, 0.8))
                    drop-shadow(0 0 30px rgba(88, 166, 255, 0.6));
        }
        100% { 
            opacity: 0.4;
            filter: drop-shadow(0 0 8px rgba(88, 166, 255, 0.6))
                    drop-shadow(0 0 20px rgba(88, 166, 255, 0.4));
        }
    }

    @keyframes text-glow {
        from {
            text-shadow: 0 0 10px rgba(88, 166, 255, 0.4),
                         0 0 20px rgba(88, 166, 255, 0.3);
        }
        to {
            text-shadow: 0 0 20px rgba(88, 166, 255, 0.6),
                         0 0 30px rgba(88, 166, 255, 0.4),
                         0 0 40px rgba(88, 166, 255, 0.2);
        }
    }

    /* æ·»åŠ  token é“¾æ¥æ ·å¼ */
    .token-links {
        display: flex;
        gap: 4px;
        justify-content: center;
    }
    
    .token-links a {
        text-decoration: none;
        font-size: 16px;
        opacity: 0.7;
        transition: opacity 0.2s, transform 0.2s;
        color: var(--text-secondary);
        padding: 0 4px;
    }
    
    .token-links a:hover {
        opacity: 1;
        transform: scale(1.2);
    }

    .sort-indicator {
        display: inline-block;
        width: 12px;
        text-align: center;
        margin-left: 4px;
        color: var(--text-secondary);
        font-size: 0.8rem;
        opacity: 0;  /* é»˜è®¤ä¸å¯è§ */
        position: relative;
        vertical-align: middle;
    }
    
    .sort-indicator.active {
        color: var(--accent);
        opacity: 1;  /* æ¿€æ´»æ—¶å¯è§ */
    }

    .token-table th[data-sort="name"] {
        width: 180px;
        min-width: 180px;
        max-width: 180px;
    }

    .token-table th[data-sort="price"],
    .token-table th[data-sort="marketCap"] {
        width: 100px;
        min-width: 100px;
        max-width: 100px;
    }

    /* æ–°å¢ Volume åˆ—å®½åº¦è®¾ç½® */
    .token-table th[data-sort="volume"] {
        width: 140px;
        min-width: 140px;
        max-width: 140px;
    }

    .token-table th[data-sort="liquidity"] {
        width: 100px;
        min-width: 100px;
        max-width: 100px;
    }

    .token-table th.chart-column {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
        padding: 0.3rem 0.4rem;
    }

    .token-table th[data-sort="priceChange.m5"],
    .token-table th[data-sort="priceChange.h1"],
    .token-table th[data-sort="priceChange.h6"],
    .token-table th[data-sort="priceChange.h24"] {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }
</style>
</head>
<body>
    <div class="container">
        <div id="lastUpdate" class="last-update"><span class="update-indicator"></span>Last update: Just now</div>
        <div class="header-container">
    <img src="https://imagedelivery.net/BXluQx4ige9GuW0Ia56BHw/7319cab8-bf4c-4054-316b-5c788d24ac00/rectcrop3" class="header-logo">
    <h1>LUMINDEX by @luoxbt</h1>
</div>
        <div class="table-container"> <!-- æ–°å¢æ»šåŠ¨å®¹å™¨ -->
            <table class="token-table">
                <thead>
                    <tr>
                        <th data-sort="name">
                            <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <span>Token <span class="sort-indicator">â†“</span></span>
                                <select id="chainFilter" style="margin-right: 4px;">
                                    <option value="all" selected>All Chains</option>
                                </select>
                            </div>
                        </th>
                        <th data-sort="price">Price <span class="sort-indicator">â†“</span></th>
                        <th data-sort="marketCap">MarketCap <span class="sort-indicator">â†“</span></th>
                        <th data-sort="priceChange.m5" class="compact-column">5m % <span class="sort-indicator">â†“</span></th>
                        <th data-sort="priceChange.h1" class="compact-column">1h % <span class="sort-indicator">â†“</span></th>
                        <th data-sort="priceChange.h6" class="compact-column">6h % <span class="sort-indicator">â†“</span></th>
                        <th data-sort="priceChange.h24" class="compact-column">24h % <span class="sort-indicator">â†“</span></th>
                        <th class="compact-column">
                            <div style="display: flex; align-items: center; justify-content: center; gap: 8px; min-width: 120px;">
                                <span data-sort="volume" style="cursor: pointer;">Volume <span class="sort-indicator">â†“</span></span>
                                <select id="volumeTimeframe" style="margin-right: 4px;">
                                    <option value="m5">5m</option>
                                    <option value="h1">1h</option>
                                    <option value="h6">6h</option>
                                    <option value="h24" selected>24h</option>
                                </select>
                            </div>
                        </th>
                        <th data-sort="liquidity" class="compact-column">Liquidity <span class="sort-indicator">â†“</span></th>
                        <th class="chart-column">Chart</th>
                    </tr>
                </thead>
                <tbody id="tokenTableBody">
                    <tr>
                        <td colspan="10" class="loading">Loading data...</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script type="module">
        // å¯¼å…¥tokenAddressesæ•°ç»„
        import { tokenAddresses } from './tokenAddresses.js';

        let tokens = [];
        let filteredTokens = [];
        let currentSort = {
            column: 'marketCap',
            direction: 'desc'
        };
        let currentVolumeTimeframe = 'h24';
        let currentChain = 'all';
        let lastUpdateTime = new Date();

        /**
         * æ£€æŸ¥é“¾æ˜¯å¦è¢«GMGNæ”¯æŒ
         * @param {string} chainId - é“¾ID
         * @returns {boolean} æ˜¯å¦æ”¯æŒ
         */
        function isGmgnSupported(chainId) {
            if (!chainId) return false;
            const supportedChains = ['solana', 'eth', 'base', 'bsc', 'blast', 'tron'];
            return supportedChains.includes(chainId.toLowerCase());
        }

        // è·å–GMGNé“¾æ¥ä¸­ä½¿ç”¨çš„é“¾ID
        function getGmgnChainId(chainId) {
            if (!chainId) return '';
            const chain = chainId.toLowerCase();
            // Solanaåœ¨GMGNä¸­ä½¿ç”¨'sol'è€Œä¸æ˜¯'solana'
            return chain === 'solana' ? 'sol' : chain;
        }

        /**
         * å°†æ•°å­—æ ¼å¼åŒ–ä¸ºå¸¦å•ä½çš„ç´§å‡‘å½¢å¼
         * @param {number} number - è¦æ ¼å¼åŒ–çš„æ•°å­—
         * @returns {string} æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ï¼ˆå¸¦B/M/Kå•ä½ï¼‰
         */
        function formatCompactNumber(number) {
            const units = [
                { value: 1e9, symbol: 'B' },
                { value: 1e6, symbol: 'M' },
                { value: 1e3, symbol: 'K' }
            ];
            
            for (const { value, symbol } of units) {
                if (number >= value) {
                    return (number / value).toFixed(2) + symbol;
                }
            }
            return number.toFixed(2);
        }

        /**
         * æ›´æ–°äº¤æ˜“é‡æ—¶é—´èŒƒå›´å¹¶é‡æ–°æ¸²æŸ“è¡¨æ ¼
         * @param {string} timeframe - æ—¶é—´èŒƒå›´ï¼ˆ'm5'ã€'h1'ã€'h6'æˆ–'h24'ï¼‰
         */
        function updateVolumeTimeframe(timeframe) {
            currentVolumeTimeframe = timeframe;
            renderTable();
        }

        /**
         * æ›´æ–°é“¾ç­›é€‰å™¨å¹¶é‡æ–°æ¸²æŸ“è¡¨æ ¼
         * @param {string} chain - é“¾IDæˆ–'all'
         */
        function updateChainFilter(chain) {
            currentChain = chain;
            filteredTokens = currentChain === 'all' ? 
                tokens : 
                tokens.filter(token => token.chainId?.toLowerCase() === currentChain);
            sortTokens(currentSort.column, currentSort.direction);
            renderTable();
        }

        function getVolumeForTimeframe(token) {
            return token.volume?.[currentVolumeTimeframe] || 0;
        }
        
        /**
         * æ ¹æ®äº¤æ˜“é‡å¤§å°æ ¼å¼åŒ–å¹¶æ·»åŠ æŒ‡ç¤ºç¬¦å·
         * @param {number} volume - äº¤æ˜“é‡æ•°å€¼
         * @returns {string} æ ¼å¼åŒ–åçš„HTMLå­—ç¬¦ä¸²ï¼ŒåŒ…å«æ•°å€¼å’ŒæŒ‡ç¤ºç¬¦å·
         */
        function formatVolumeWithIndicator(volume) {
            let indicator = '';
            let indicatorClass = '';
            
            if (volume < 100000) {
                indicator = 'â–ƒ';
                indicatorClass = 'volume-indicator-1';
            } else if (volume < 1000000) {
                indicator = 'â–ƒâ–…';
                indicatorClass = 'volume-indicator-2';
            } else if (volume < 10000000) {
                indicator = 'â–ƒâ–…â–†';
                indicatorClass = 'volume-indicator-3';
            } else if (volume < 100000000) {
                indicator = 'â–ƒâ–…â–†â–‡';
                indicatorClass = 'volume-indicator-4';
            } else {
                indicator = 'â–ƒâ–…â–†â–‡â–‰';
                indicatorClass = 'volume-indicator-5';
            }
            
            return `<div class="volume-container"><div class="volume-value">$${formatCompactNumber(volume)}</div><div class="${indicatorClass}">${indicator}</div></div>`;
        }

        function formatPriceChange(change) {
            if (!change && change !== 0) return '-';
            const formattedChange = change.toFixed(2);
            const symbol = change > 0 ? 'â†—' : 'â†˜';
            return `${symbol} ${formattedChange}%`;
        }

        function renderPriceChanges(token) {
            const timeframes = [
                { key: 'm5', label: '5m' },
                { key: 'h1', label: '1h' },
                { key: 'h6', label: '6h' },
                { key: 'h24', label: '24h' }
            ];

            return `
                <div class="price-change-group">
                    ${timeframes.map(tf => `
                        <span class="price-change-item ${token.priceChange?.[tf.key] > 0 ? 'positive' : 'negative'}">
                            ${tf.label}: ${formatPriceChange(token.priceChange?.[tf.key])}
                        </span>
                    `).join('')}
                </div>
            `;
        }

        function updateChainFilterOptions() {
            const chainFilter = document.getElementById('chainFilter');
            const uniqueChains = new Set(tokens.map(token => token.chainId?.toLowerCase()).filter(Boolean));
            
            // Clear existing options except "All Chains"
            chainFilter.innerHTML = '<option value="all" selected>All Chains</option>';
            
            // Add new options
            uniqueChains.forEach(chain => {
                const option = document.createElement('option');
                option.value = chain;
                option.textContent = chain.charAt(0).toUpperCase() + chain.slice(1);
                chainFilter.appendChild(option);
            });
        }

        // è·å–DEXscreenerå›¾è¡¨çš„URL
        /**
         * è·å–DEXscreenerå›¾è¡¨URL
         * @param {Object} token - ä»£å¸å¯¹è±¡
         * @param {string} token.chainId - é“¾ID
         * @param {Object} token.baseToken - åŸºç¡€ä»£å¸ä¿¡æ¯
         * @param {string} token.baseToken.address - ä»£å¸åœ°å€
         * @returns {string|null} å›¾è¡¨URLæˆ–null
         */
        function getDexScreenerChartUrl(token) {
            if (!token.chainId || !token.baseToken.address) return null;
            return `https://dexscreener.com/${token.chainId}/${token.baseToken.address}?embed=1&theme=dark&trades=0&info=0`;
        }
        
        // å­˜å‚¨å±•å¼€çŠ¶æ€çš„æ•°ç»„
        let expandedRows = [];
        
        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½å±•å¼€çŠ¶æ€
        function loadExpandedState() {
            const savedState = localStorage.getItem('expandedRows');
            if (savedState) {
                try {
                    expandedRows = JSON.parse(savedState);
                } catch (e) {
                    console.error('Error loading expanded state:', e);
                    expandedRows = [];
                }
            }
        }
        
        // ä¿å­˜å±•å¼€çŠ¶æ€åˆ°æœ¬åœ°å­˜å‚¨
        function saveExpandedState() {
            localStorage.setItem('expandedRows', JSON.stringify(expandedRows));
        }
        
        // å¤„ç†è¡Œç‚¹å‡»äº‹ä»¶ï¼Œå±•å¼€æˆ–æŠ˜å å›¾è¡¨
        /**
         * å¤„ç†è¡Œç‚¹å‡»äº‹ä»¶ï¼Œå±•å¼€æˆ–æŠ˜å å›¾è¡¨
         * @param {number} tokenIndex - ä»£å¸åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•
         */
        function handleRowClick(tokenIndex) {
            const token = filteredTokens[tokenIndex];
            const tbody = document.getElementById('tokenTableBody');
            const rows = tbody.querySelectorAll('tr.token-row');
            const chartRows = tbody.querySelectorAll('tr.chart-row');
            
            const currentRow = rows[tokenIndex];
            const currentChartRow = chartRows[tokenIndex];
            
            // æŠ˜å å·²å±•å¼€çš„å›¾è¡¨
            if (currentRow.classList.contains('active')) {
                currentRow.classList.remove('active');
                currentChartRow.classList.remove('expanded');
                
                const index = expandedRows.indexOf(tokenIndex);
                if (index !== -1) {
                    expandedRows.splice(index, 1);
                    saveExpandedState();
                }
                return;
            }
            
            // æ¿€æ´»å½“å‰è¡Œå¹¶å±•å¼€å›¾è¡¨ï¼ˆä¸å…³é—­å…¶ä»–å›¾è¡¨ï¼‰
            currentRow.classList.add('active');
            currentChartRow.classList.add('expanded');
            
            // æ·»åŠ åˆ°å±•å¼€çŠ¶æ€æ•°ç»„
            if (!expandedRows.includes(tokenIndex)) {
                expandedRows.push(tokenIndex);
                saveExpandedState();
            }
            
            // å¦‚æœå›¾è¡¨å°šæœªåŠ è½½ï¼Œåˆ™åŠ è½½å›¾è¡¨
            const iframe = currentChartRow.querySelector('iframe');
            if (iframe && !iframe.src) {
                const chartUrl = getDexScreenerChartUrl(token);
                if (chartUrl) {
                    iframe.src = chartUrl;
                }
            }
            
            // æ»šåŠ¨åˆ°å›¾è¡¨ä½ç½®
            setTimeout(() => {
                currentChartRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }

        function renderTable() {
            const tbody = document.getElementById('tokenTableBody');
            const existingChartRows = new Map();
            
            // ä¿å­˜å·²å±•å¼€å›¾è¡¨çš„iframeä¿¡æ¯
            tbody.querySelectorAll('tr.chart-row.expanded').forEach(chartRow => {
                const dataRowIndex = parseInt(chartRow.previousElementSibling.dataset.index);
                const iframe = chartRow.querySelector('iframe');
                if (iframe && iframe.src) {
                    existingChartRows.set(dataRowIndex, iframe.src);
                }
            });
            
            // æ¸…ç©ºè¡¨æ ¼å†…å®¹
            tbody.innerHTML = '';
            
            // ä¸ºæ¯ä¸ªtokenåˆ›å»ºä¸¤è¡Œï¼šæ•°æ®è¡Œå’Œå›¾è¡¨è¡Œ
            filteredTokens.forEach((token, index) => {
                // åˆ›å»ºæ•°æ®è¡Œ
                const dataRow = document.createElement('tr');
                dataRow.className = 'token-row';
                dataRow.dataset.index = index;
                dataRow.innerHTML = `
                    <td>
                        <div class="token-info">
                            <div style="position: relative; display: inline-block;">
                                ${token.info?.imageUrl ? 
                                    `<img src="${token.info.imageUrl}" class="token-icon" alt="${token.baseToken.name}">` : 
                                    `<div class="token-icon" style="background: #2D2D2D; display: flex; filter: none !important; box-shadow: none !important; 
                                        align-items: center; justify-content: center; font-size: 18px; color: var(--text-secondary);">
                                        ?
                                    </div>`}
                                ${token.chainId ? `
                                    <img src="https://dd.dexscreener.com/ds-data/chains/${token.chainId}.png" 
                                         style="position: absolute; 
                                                bottom: -4px; 
                                                right: -8px; 
                                                width: 14px; 
                                                height: 14px; 
                                                border-radius: 50%;
                                                border: 2px solid var(--bg-secondary);">
                                    ` : ''}
                                </div>
                            <div>
                                <div class="token-name">
                                    ${token.baseToken.name}
                                </div>
                                <div class="token-symbol">${token.baseToken.symbol}</div>
                            </div>
                        </div>
                    </td>
                    <td>$${parseFloat(token.priceUsd).toFixed(8)}</td>
                    <td>$${formatCompactNumber(token.marketCap)}</td>
                    <td class="compact-column ${token.priceChange?.m5 > 0 ? 'positive' : 'negative'}">${formatPriceChange(token.priceChange?.m5)}</td>
                    <td class="compact-column ${token.priceChange?.h1 > 0 ? 'positive' : 'negative'}">${formatPriceChange(token.priceChange?.h1)}</td>
                    <td class="compact-column ${token.priceChange?.h6 > 0 ? 'positive' : 'negative'}">${formatPriceChange(token.priceChange?.h6)}</td>
                    <td class="compact-column ${token.priceChange?.h24 > 0 ? 'positive' : 'negative'}">${formatPriceChange(token.priceChange?.h24)}</td>
                    <td class="compact-column">${formatVolumeWithIndicator(getVolumeForTimeframe(token))}</td>
                    <td class="compact-column">$${formatCompactNumber(token.liquidity?.usd)}</td>
                    <td class="chart-column">
                        <div class="token-links">
                            <a href="https://dexscreener.com/${token.chainId}/${token.baseToken.address}" target="_blank" title="DexScreener">ğŸ¦…</a>
                            ${isGmgnSupported(token.chainId) ? 
                                `<a href="https://gmgn.ai/${getGmgnChainId(token.chainId)}/token/${token.baseToken.address}" target="_blank" title="GMGN">ğŸ¦–</a>` : ''}
                            <a href="https://www.geckoterminal.com/${token.chainId}/tokens/${token.baseToken.address}" target="_blank" title="GekoTerminal">ğŸ¦</a>
                        </div>
                    </td>
                `;
                
                // ä¸ºæ•°æ®è¡Œæ·»åŠ ç‚¹å‡»äº‹ä»¶
                dataRow.addEventListener('click', (e) => {
                    // å¦‚æœç‚¹å‡»çš„æ˜¯é“¾æ¥ï¼Œä¸è§¦å‘å±•å¼€å›¾è¡¨
                    if (e.target.tagName.toLowerCase() === 'a') {
                        return;
                    }
                    handleRowClick(index);
                });
                
                // åˆ›å»ºå›¾è¡¨è¡Œ
                const chartRow = document.createElement('tr');
                chartRow.className = 'chart-row';
                chartRow.innerHTML = `
                    <td colspan="10">
                        <div class="chart-container">
                            <iframe class="dexscreener-iframe" title="DEXscreener Trading Chart" loading="lazy"></iframe>
                        </div>
                    </td>
                `;
                
                // æ·»åŠ è¡Œåˆ°è¡¨æ ¼
                tbody.appendChild(dataRow);
                tbody.appendChild(chartRow);
                
                // å¦‚æœè¯¥è¡Œåœ¨å±•å¼€çŠ¶æ€æ•°ç»„ä¸­ï¼Œåˆ™æ¢å¤å±•å¼€çŠ¶æ€
                if (expandedRows.includes(index)) {
                    dataRow.classList.add('active');
                    chartRow.classList.add('expanded');
                    
                    // æ¢å¤æˆ–åŠ è½½å›¾è¡¨
                    const iframe = chartRow.querySelector('iframe');
                    if (iframe) {
                        const existingChartUrl = existingChartRows.get(index);
                        if (existingChartUrl) {
                            iframe.src = existingChartUrl;
                        } else if (!iframe.src) {
                            const chartUrl = getDexScreenerChartUrl(token);
                            if (chartUrl) {
                                iframe.src = chartUrl;
                            }
                        }
                    }
                }
            });

            // æ›´æ–°æ’åºæŒ‡ç¤ºå™¨
            document.querySelectorAll('.sort-indicator').forEach(indicator => {
                const sortElement = indicator.hasAttribute('data-sort') ? indicator : indicator.closest('[data-sort]');
                if (!sortElement) return;
                
                const column = sortElement.dataset.sort;
                if (column === currentSort.column) {
                    indicator.textContent = currentSort.direction === 'asc' ? 'â†‘' : 'â†“';
                    indicator.classList.add('active');
                } else {
                    indicator.textContent = '';  // ä¿®æ”¹è¿™é‡Œï¼Œä¸æ˜¾ç¤ºä»»ä½•æŒ‡ç¤ºå™¨
                    indicator.classList.remove('active');
                }
            });
        }

        function updateLastUpdateTime() {
            const now = new Date();
            const seconds = Math.floor((now - lastUpdateTime) / 1000);
            const lastUpdateElement = document.getElementById('lastUpdate');
            // ä¿ç•™æŒ‡ç¤ºç¯å…ƒç´ ï¼Œåªæ›´æ–°æ–‡æœ¬éƒ¨åˆ†
            lastUpdateElement.innerHTML = `<span class="update-indicator"></span>Last update: ${seconds} s ago`;
        }

        async function fetchTokenData() {
            try {
                const promises = tokenAddresses.map(address =>
                    fetch(`https://api.dexscreener.com/latest/dex/tokens/${address}`)
                        .then(response => response.json())
                );

                const results = await Promise.all(promises);
                tokens = results
                    .map(result => {
                        const pairs = result.pairs;
                        if (!pairs || pairs.length === 0) return null;
                        
                        return pairs.reduce((max, current) => 
                            (current.liquidity?.usd || 0) > (max.liquidity?.usd || 0) ? current : max
                        );
                    })
                    .filter(Boolean);

                filteredTokens = tokens;
                updateChainFilterOptions();
                sortTokens(currentSort.column, currentSort.direction);
                renderTable();
                lastUpdateTime = new Date();
            } catch (error) {
                console.error('Error fetching token data:', error);
                document.getElementById('tokenTableBody').innerHTML = 
                    '<tr><td colspan="7">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</td></tr>';
            }
        }

        /**
         * æ ¼å¼åŒ–æ•°å­—ä¸ºå¸¦åƒä½åˆ†éš”ç¬¦çš„å­—ç¬¦ä¸²
         * @param {number} number - è¦æ ¼å¼åŒ–çš„æ•°å­—
         * @returns {string} æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²
         */
        function formatNumber(number) {
            return new Intl.NumberFormat('en-US').format(number);
        }

        /**
         * æ ¹æ®æŒ‡å®šåˆ—å’Œæ–¹å‘å¯¹ä»£å¸åˆ—è¡¨è¿›è¡Œæ’åº
         * @param {string} column - æ’åºåˆ—å
         * @param {string} direction - æ’åºæ–¹å‘ï¼ˆ'asc'æˆ–'desc'ï¼‰
         */
        function sortTokens(column, direction) {
            filteredTokens.sort((a, b) => {
                let aValue, bValue;
                
                if (column.startsWith('priceChange.')) {
                    const timeframe = column.split('.')[1];
                    aValue = a.priceChange?.[timeframe] || 0;
                    bValue = b.priceChange?.[timeframe] || 0;
                } else {
                    switch(column) {
                        case 'name':
                            aValue = a.baseToken.name;
                            bValue = b.baseToken.name;
                            return direction === 'asc' ? 
                                aValue.localeCompare(bValue) : 
                                bValue.localeCompare(aValue);
                        case 'price':
                            aValue = parseFloat(a.priceUsd);
                            bValue = parseFloat(b.priceUsd);
                            break;
                        case 'marketCap':
                            aValue = parseFloat(a.marketCap);
                            bValue = parseFloat(b.marketCap);
                            break;
                        case 'volume':
                            aValue = a.volume?.[currentVolumeTimeframe] || 0;
                            bValue = b.volume?.[currentVolumeTimeframe] || 0;
                            break;
                        case 'liquidity':
                            aValue = a.liquidity?.usd || 0;
                            bValue = b.liquidity?.usd || 0;
                            break;
                    }
                }
                
                return direction === 'asc' ? aValue - bValue : bValue - aValue;
            });
        }

        // ä»localStorageæ¢å¤æ’åºçŠ¶æ€
        const savedSort = localStorage.getItem('currentSort');
        if (savedSort) {
            currentSort = JSON.parse(savedSort);
            sortTokens(currentSort.column, currentSort.direction);
        }

        document.querySelectorAll('.token-table th').forEach(th => {
            // å¯¹äº Volume åˆ—çš„ç‰¹æ®Šå¤„ç†
            if (!th.dataset.sort) {
                const volumeSortElements = th.querySelectorAll('[data-sort="volume"]');
                volumeSortElements.forEach(element => {
                    element.addEventListener('click', () => {
                        const column = element.dataset.sort;
                        const direction = 
                            currentSort.column === column && currentSort.direction === 'desc' ? 
                            'asc' : 'desc';
                        
                        currentSort = { column, direction };
                        // ä¿å­˜æ’åºçŠ¶æ€åˆ°localStorage
                        localStorage.setItem('currentSort', JSON.stringify(currentSort));
                        sortTokens(column, direction);
                        renderTable();
                    });
                });
                return;
            }

            // å¯¹äºå…¶ä»–æ‰€æœ‰åˆ—çš„å¤„ç†
            const column = th.dataset.sort;
            th.addEventListener('click', (event) => {
                // å¦‚æœç‚¹å‡»çš„æ˜¯selectå…ƒç´ ï¼Œä¸æ‰§è¡Œæ’åº
                if (event.target.tagName.toLowerCase() === 'select') {
                    return;
                }
                
                const direction = 
                    currentSort.column === column && currentSort.direction === 'desc' ? 
                    'asc' : 'desc';
                
                currentSort = { column, direction };
                // ä¿å­˜æ’åºçŠ¶æ€åˆ°localStorage
                localStorage.setItem('currentSort', JSON.stringify(currentSort));
                expandedRows = [];
                saveExpandedState();
                sortTokens(column, direction);
                renderTable();
            });
        });

        // ä¸ºselectå…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
        document.getElementById('chainFilter').addEventListener('change', function(e) {
            updateChainFilter(this.value);
        });

        document.getElementById('volumeTimeframe').addEventListener('change', function(e) {
            updateVolumeTimeframe(this.value);
        });

        // Set up auto refresh every minute
        setInterval(fetchTokenData, 60000);
        
        // Update the "last update" text every second
        setInterval(updateLastUpdateTime, 1000);

        // åˆå§‹åŒ–æ—¶åŠ è½½å±•å¼€çŠ¶æ€
        loadExpandedState();
        
        // åˆå§‹åŠ è½½æ•°æ®
        fetchTokenData();
    </script>
    <footer style="
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 10px;
            background-color: var(--bg-primary);
            display: flex;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 0.8rem;
        ">
        Â© luoxbt.com 2025 <a href="https://x.com/luoxbt" style="margin: 0 8px; color: inherit;"> X <a href="https://warpcast.com/luoxbt" style="margin: 0 4px; color: inherit;"> Farcaster </a>
    </footer>
</body>
</html>

<style>
    /* ç»Ÿä¸€è¡¨å¤´æ ·å¼ */
    .token-table thead th {
        position: sticky;
        top: 0;
        z-index: 100;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s;
        text-align: center; /* ä¿®æ”¹ä¸ºå±…ä¸­å¯¹é½ */
        white-space: nowrap;
        border-bottom: 2px solid var(--border-color); /* åŠ ç²—åº•éƒ¨è¾¹æ¡† */
        padding: 1rem 0.5rem; /* ç»Ÿä¸€å†…è¾¹è· */
    }

    /* è®¾ç½®å„åˆ—çš„å›ºå®šå®½åº¦ */
    .token-table th[data-sort="name"] {
        width: 180px;
        min-width: 180px;
        max-width: 180px;
    }

    .token-table th[data-sort="price"] {
        width: 100px;
        min-width: 100px;
        max-width: 100px;
    }

    .token-table th[data-sort="marketCap"] {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }

    .token-table th[data-sort="priceChange.m5"],
    .token-table th[data-sort="priceChange.h1"],
    .token-table th[data-sort="priceChange.h6"],
    .token-table th[data-sort="priceChange.h24"] {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }

    /* Volumeåˆ—ç‰¹æ®Šå¤„ç† */
    .token-table th:nth-child(8) {
        width: 120px;
        min-width: 120px;
        max-width: 120px;
    }

    .token-table th[data-sort="liquidity"] {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }

    .token-table th.chart-column {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
        padding: 0.3rem 0.4rem;
    }

    /* ç¡®ä¿è¡¨æ ¼å•å…ƒæ ¼ä¹Ÿéµå¾ªç›¸åŒçš„å®½åº¦ */
    .token-table td:nth-child(1) {
        width: 220px;
        min-width: 220px;
        max-width: 220px;
    }

    .token-table td:nth-child(2) {
        width: 120px;
        min-width: 120px;
        max-width: 120px;
    }

    .token-table td:nth-child(3) {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }

    .token-table td:nth-child(4),
    .token-table td:nth-child(5),
    .token-table td:nth-child(6),
    .token-table td:nth-child(7) {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }

    .token-table td:nth-child(8) {
        width: 140px;
        min-width: 140px;
        max-width: 140px;
    }

    .token-table td:nth-child(9) {
        width: 100px;
        min-width: 100px;
        max-width: 100px;
    }

    .token-table td:nth-child(10) {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
        padding: 0.3rem 0.4rem;
    }

    /* ç¡®ä¿è¡¨æ ¼æ€»å®½åº¦å›ºå®š */
    .token-table {
        width: 1320px; /* æ‰€æœ‰åˆ—å®½åº¦æ€»å’ŒåŠ ä¸Šä¸€äº›è¾¹è·ç©ºé—´ */
        min-width: 1320px;
        table-layout: fixed;
    }
    
    /* å›¾è¡¨å±•å¼€è¡Œæ ·å¼ */
    .chart-row {
        display: none;
        background-color: var(--bg-secondary);
        transition: all 0.3s ease;
    }
    
    .chart-row.expanded {
        display: table-row;
    }
    
    .chart-row td {
        padding: 0 !important;
        height: auto !important;
    }
    
    .chart-container {
        width: 100%;
        height: 100%;
        padding: 8px;
        box-sizing: border-box;
    }
    
    .dexscreener-iframe {
        height: 100%;
        width: 100%;
        height: 500px;
        border: none;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    
    /* ä¸ºå¯ç‚¹å‡»çš„è¡Œæ·»åŠ æŒ‡ç¤ºå™¨ */
    .token-table tbody tr {
        cursor: pointer;
        height: var(--row-height); /* ä½¿ç”¨å˜é‡å›ºå®šè¡Œé«˜ */
        min-height: var(--row-height);
        max-height: var(--row-height);
    }
    
    .token-table tbody tr:hover {
        background-color: var(--hover-bg);
    }
    
    /* æ¿€æ´»çŠ¶æ€çš„è¡Œ */
    .token-table tbody tr.active {
        background-color: var(--hover-bg);
        border-left: 3px solid var(--accent);
    }
    .table-container {
        width: 100%;
        max-width: 1320px;
        height: calc(100vh - 200px);
        overflow: auto;
        position: relative;
        border-radius: 16px;
        border: 1px solid var(--border-color);
        display: flex;
        flex-direction: column;
    }
    
    .token-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background-color: transparent;
        border-radius: 16px;
        overflow: visible;
        table-layout: fixed;
        flex: 0 0 auto; /* é˜²æ­¢è¡¨æ ¼è‡ªåŠ¨æ‹‰ä¼¸ */
    }
    
    .token-table thead th {
        position: sticky;
        top: 0;
        z-index: 10;
        background-color: var(--bg-secondary);
        border-bottom: 2px solid var(--border-color);
        height: var(--row-height); /* ç¡®ä¿è¡¨å¤´è¡Œé«˜ä¸æ•°æ®è¡Œä¸€è‡´ */
    }
    .token-table th, .token-table td {
        padding: 0.3rem 0.8rem; /* ä¼˜åŒ–åçš„ç´§å‡‘å†…è¾¹è· */
        border-bottom: 1px solid var(--border-color);
        font-size: 0.875rem;
        overflow: hidden;
        text-overflow: ellipsis; /* æº¢å‡ºæ—¶æ˜¾ç¤ºçœç•¥å· */
        white-space: nowrap; /* é˜²æ­¢æ–‡æœ¬æ¢è¡Œ */
    }

    /* æ¢å¤ Token åç§°å’Œä»£å·çš„åŸå§‹å¤§å° */
    .token-name {
        font-weight: 500;
        font-size: 1rem; /* åŸå§‹åç§°å­—å· */
    }
    
    .token-symbol {
        color: var(--text-secondary);
        font-size: 0.875rem; /* ä¿æŒåŸæœ‰å°å·å­—ä½“ */
    }

    /* åˆ—å®½åº¦è®¾ç½® */
    .token-table th.compact-column,
    .token-table td.compact-column {
        padding: 0.5rem 0.5rem 0.5rem 1rem; /* å‡å°ä¸Šä¸‹å†…è¾¹è·ï¼Œå¢åŠ å·¦å†…è¾¹è·ï¼Œä¿æŒå³ä¾§ç©ºé—´ */
        text-align: left; /* æ”¹ä¸ºå·¦å¯¹é½ */
        min-width: 80px;
    }

    /* ä»·æ ¼å˜åŒ–å’Œäº¤æ˜“é‡åˆ—å®½åº¦ */
    .token-table th[data-sort^="priceChange."],
    .token-table th[data-sort="volume"],
    .token-table th[data-sort="liquidity"] {
        min-width: 80px;
        width: 80px;
        max-width: 80px;
    }
    
    .token-table th.chart-column {
        text-align: center;
    }
    .token-table th.chart-column {
        padding: 1rem 0.5rem;
        width: 100px;
    }

    .token-table th {
        background-color: rgba(22, 27, 34, 0.9);
        color: var(--text-primary);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        min-width: 100px;
        white-space: nowrap;
        position: sticky;
        top: 0;
        z-index: 10;
        padding-right: 20px;
        border-bottom: 2px solid var(--border-color);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }

    .token-table th:hover {
        background-color: var(--hover-bg);
        color: var(--accent);
    }

    .token-table th > span:not(.sort-indicator) {
        display: block;
        text-align: center;
    }

    .token-table th .sort-indicator {
        display: inline-block;
        position: relative;
        margin-left: 4px;
        vertical-align: middle;
    }

    .token-table th:hover {
        background-color: var(--hover-bg);
    }

    .token-info {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .token-icon {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        object-fit: cover;
    }

    .token-info {
        display: flex;
        align-items: center;
        gap: 14px;
    }
    .positive { color: var(--positive); }
    .negative { color: var(--negative); }
    
    /* äº¤æ˜“é‡å®¹å™¨æ ·å¼ */
    .volume-container {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        width: 100%;
    }
    
    .volume-value {
        text-align: right;
        min-width: 50px;
        margin-right: 8px;
    }
    
    /* äº¤æ˜“é‡æŒ‡ç¤ºç¬¦å·æ ·å¼ */
    .volume-indicator-1, .volume-indicator-2, .volume-indicator-3, .volume-indicator-4, .volume-indicator-5 {
        background-image: linear-gradient(90deg, #3fb950 0%, #3fb950 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-size: 0.9rem;
        transform: scaleX(0.8);
        display: inline-block;
        text-align: left;
        width: 60px;
    }
    
    .volume-indicator-2 {
        background-image: linear-gradient(90deg, #3fb950 0%, #4ac866 100%);
    }
    
    .volume-indicator-3 {
        background-image: linear-gradient(90deg, #3fb950 0%, #56d77c 100%);
    }
    
    .volume-indicator-4 {
        background-image: linear-gradient(90deg, #3fb950 0%, #62e692 100%);
    }
    
    .volume-indicator-5 {
        background-image: linear-gradient(90deg, #3fb950 0%, #6ef5a8 100%);
    }

    .loading {
        text-align: center;
        padding: 2rem;
        color: var(--text-secondary);
    }

    .price-change-group {
        display: flex;
        gap: 8px;
        font-size: 0.875rem;
    }

    .price-change-item {
        padding: 4px 8px;
        border-radius: 4px;
        background-color: var(--bg-primary);
    }

    select {
        background-color: var(--bg-primary);
        color: var(--text-primary);
        border: 1px solid var(--border-color);
        padding: 4px 8px;
        border-radius: 4px;
        cursor: pointer;
    }

    select:hover {
        background-color: var(--hover-bg);
    }

    .token-name {
        font-weight: 500;
    }

    .token-symbol {
        color: var(--text-secondary);
        font-size: 0.875rem;
    }

    .last-update {
        position: fixed;
        top: 1rem;
        right: 1rem;
        color: var(--text-secondary);
        font-size: 0.875rem;
        background-color: var(--bg-primary);
        padding: 0.5rem 1rem;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .update-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: var(--positive);
        animation: pulse 1.5s infinite ease-in-out;
    }
    
    @keyframes pulse {
        0% { 
            opacity: 0.4;
            filter: drop-shadow(0 0 8px rgba(88, 166, 255, 0.6))
                    drop-shadow(0 0 20px rgba(88, 166, 255, 0.4));
        }
        50% {
            opacity: 1;
            filter: drop-shadow(0 0 12px rgba(88, 166, 255, 0.8))
                    drop-shadow(0 0 30px rgba(88, 166, 255, 0.6));
        }
        100% { 
            opacity: 0.4;
            filter: drop-shadow(0 0 8px rgba(88, 166, 255, 0.6))
                    drop-shadow(0 0 20px rgba(88, 166, 255, 0.4));
        }
    }

    @keyframes text-glow {
        from {
            text-shadow: 0 0 10px rgba(88, 166, 255, 0.4),
                         0 0 20px rgba(88, 166, 255, 0.3);
        }
        to {
            text-shadow: 0 0 20px rgba(88, 166, 255, 0.6),
                         0 0 30px rgba(88, 166, 255, 0.4),
                         0 0 40px rgba(88, 166, 255, 0.2);
        }
    }

    /* æ·»åŠ  token é“¾æ¥æ ·å¼ */
    .token-links {
        display: flex;
        gap: 4px;
        justify-content: center;
    }
    
    .token-links a {
        text-decoration: none;
        font-size: 16px;
        opacity: 0.7;
        transition: opacity 0.2s, transform 0.2s;
        color: var(--text-secondary);
        padding: 0 4px;
    }
    
    .token-links a:hover {
        opacity: 1;
        transform: scale(1.2);
    }

    .sort-indicator {
        display: inline-block;
        width: 12px;
        text-align: center;
        margin-left: 4px;
        color: var(--text-secondary);
        font-size: 0.8rem;
        opacity: 0;  /* é»˜è®¤ä¸å¯è§ */
        position: relative;
        vertical-align: middle;
    }
    
    .sort-indicator.active {
        color: var(--accent);
        opacity: 1;  /* æ¿€æ´»æ—¶å¯è§ */
    }

    .token-table th[data-sort="name"] {
        width: 180px;
        min-width: 180px;
        max-width: 180px;
    }

    .token-table th[data-sort="price"],
    .token-table th[data-sort="marketCap"] {
        width: 100px;
        min-width: 100px;
        max-width: 100px;
    }

    /* æ–°å¢ Volume åˆ—å®½åº¦è®¾ç½® */
    .token-table th[data-sort="volume"] {
        width: 140px;
        min-width: 140px;
        max-width: 140px;
    }

    .token-table th[data-sort="liquidity"] {
        width: 100px;
        min-width: 100px;
        max-width: 100px;
    }

    .token-table th.chart-column {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
        padding: 0.3rem 0.4rem;
    }

    .token-table th[data-sort="priceChange.m5"],
    .token-table th[data-sort="priceChange.h1"],
    .token-table th[data-sort="priceChange.h6"],
    .token-table th[data-sort="priceChange.h24"] {
        width: 80px;
        min-width: 80px;
        max-width: 80px;
    }
</style>
